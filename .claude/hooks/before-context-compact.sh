#!/bin/bash
# Hook: Runs before context compaction
# Purpose: Capture pillar-critical findings before memory compaction

cat << 'EOF'

âš ï¸  CONTEXT COMPACTION APPROACHING âš ï¸

PILLAR-CRITICAL INFORMATION - ENSURE DOCUMENTED:
ðŸ“ Economic: Performance numbers that prove consumer hardware viability
ðŸ“ Environmental: Energy consumption measurements (power pilot data)
ðŸ“ Portability: Cross-platform validation results (Mac â†’ Graviton â†’ etc.)
ðŸ“ Data Access: Memory footprint data, streaming performance

FOUR-PILLAR VALIDATION CHECKLIST:
ðŸ” Economic (âœ… Validated): Do we have speedup numbers for key operations?
ðŸ” Environmental (â³ Pending): Do we have power consumption data (Wh per analysis)?
ðŸ” Portability (â³ Pending): Have we validated on non-Mac ARM platforms?
ðŸ” Data Access (âœ… Validated): Do we have memory footprint characterization?

IMPACT CLAIMS - MUST BE BACKED BY DATA:
ðŸ” "300Ã— less energy" - Do we have measurements to support this?
ðŸ” "Works across ARM ecosystem" - Have we tested beyond Mac?
ðŸ” "240,000Ã— memory reduction" - Is this experimentally validated? (YES)
ðŸ” "$2-4K replaces $100K+ HPC" - Do we have performance parity data? (YES)

IF YOU'VE BEEN EXPERIMENTING:
âœ“ Ensure pillar validation data is in lab notebook entries
âœ“ Update CURRENT_STATUS.md with pillar completion status
âœ“ Document any limitations or caveats discovered
âœ“ Note which pillar each experiment validates

IF YOU'VE BEEN ANALYZING:
âœ“ Ensure findings are saved in results/ (not just chat)
âœ“ Update phase analysis documents if new insights emerged
âœ“ Document statistical validation (p-values, confidence intervals)
âœ“ Note which target audience each finding serves (LMIC, small labs, students, etc.)

TARGET AUDIENCE REMINDERS:
ðŸ’¡ LMIC researchers: Do findings reduce barrier to entry?
ðŸ’¡ Small labs: Can they afford and deploy this?
ðŸ’¡ Field researchers: Battery-powered, portable, no internet?
ðŸ’¡ Students: Learning on consumer hardware, not HPC?
ðŸ’¡ Diagnostic labs: In-house pathogen ID, no bioinformatics staff?

ðŸ’¡ Use this moment to preserve pillar-critical insights before compaction!

EOF
